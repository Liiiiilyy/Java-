# java/Übung7

### Aufgabe 1: Schatzsuche nach Zielkoordinaten

该类实现了一个用于寻找宝藏的游戏。游戏的起点是由该类的一个 GameObject 对象所表示的一位寻宝者。该类的实例需要找到一个给定坐标的宝藏。

要点：

- 宝藏坐标作为参数传递给构造函数
- bewege 方法将根据距离和朝向旋转 GameObject 实例，并将其向前移动一步，以尽可能接近目标位置
- bewege 方法返回 false，当 GameObject 到达目标位置，或者已经足够接近目标位置时，将返回 false
- main 方法创建一个新的实例，然后将它向目标移动，直到到达目标位置或者出现问题

### *Aufgabe 2: Schatzsuche nach Karte (25 Punkte)*

是一个寻宝游戏，要求根据给定的地图和地图上的标记寻找宝藏。

这个类包含一个名为 **`figur`** 的 **`GameObject`** 对象，表示角色，以及一个名为 **`karte`** 的字符串数组，表示地图。在构造函数 **`Aufgabe2`** 中，会把传入的地图字符串数组保存到 **`karte`** 属性中。

该类还包含一个名为 **`bewege`** 的方法，该方法会根据地图上的标记位置和角色位置的关系，决定下一步的行动。当角色到达标记位置时，该方法返回 **`false`**，否则返回 **`true`**。在 **`bewege`** 方法中，我们可以通过角色位置和标记位置的比较，以及计算它们之间的水平和垂直距离，来决定下一步的行动。我们可以通过计算得到下一步应该朝哪个方向移动，然后调用 **`figur`** 对象的 **`setRotation`** 方法来调整角色的朝向。最后，返回 **`true`** 表示角色应该向前移动一步。

在 **`main`** 方法中，我们创建了一个 **`Aufgabe2`** 的实例，并使用 **`while`** 循环和 **`bewege`** 方法不断地调整角色的位置和朝向，直到到达标记位置为止。在每次调用 **`bewege`** 方法时，我们会检查返回值，如果为 **`false`**，则跳出循环，游戏结束。

需要注意的是，在构造函数中，我们需要先遍历整个地图，找到标记位置的坐标，并将其保存下来，以便后续的操作。此外，在角色移动的过程中，我们也需要检查角色当前的位置是否已经越界或者是障碍物，避免角色走出地图范围或者撞上墙壁。

总之，该程序的主要思路是通过计算角色和标记位置之间的距离，来决定角色下一步的行动，并不断地调整角色的位置和朝向，直到到达标记位置为止。

### *Aufgabe 3: Schatzsuche nach Karte mit Rückweg (25 Punkte)*

要求我们编写一个类，实现寻找宝藏并返回出发点的功能。宝藏在地图中标记为“X”，我们需要将地图作为参数传入该类的构造函数中。

- 为了按原路返回，我们使用一个`ArrayList` 属性`schritte`对走过的路进行保存，具体保存的是去程的方向。
- 使用一个`boolean`属性判断是否走到宝藏点，走到宝藏点后便开始按`schritte`中保存的数据按LIFO顺序读取去程方向，+2变成相反反向。
    - 为什么+2是相反反向
        - 查 `setRotation` 后能发现前进方向是 `rotation & 3` 。